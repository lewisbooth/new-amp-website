"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};fbq.version="2.8.9",fbq._releaseSegment="stable",fbq.pendingConfigs=["global_config"],function(e,t,n,r){var o,i,s={exports:{}};s.exports;(i=e.fbq).execStart=e.performance&&e.performance.now&&e.performance.now(),o=e.postMessage||function(){},(i||(o({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*"),"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page"),0))&&(i.__fbeventsModules||(i.__fbeventsModules={},i.__fbeventsResolvedModules={},i.getFbeventsModules=function(e){return i.__fbeventsResolvedModules[e]||(i.__fbeventsResolvedModules[e]=i.__fbeventsModules[e]()),i.__fbeventsResolvedModules[e]},i.fbIsModuleLoaded=function(e){return!!i.__fbeventsModules[e]},i.ensureModuleRegistered=function(e,t){i.fbIsModuleLoaded(e)||(i.__fbeventsModules[e]=t)}),i.ensureModuleRegistered("SignalsFBEventsOptTrackingOptions",function(){return(e={exports:{}}).exports,e.exports={AUTO_CONFIG_OPT_OUT:1,AUTO_CONFIG:2,CONFIG_LOADING:4,SUPPORTS_DEFINE_PROPERTY:8,SUPPORTS_SEND_BEACON:16,HAS_INVALIDATED_PII:32,SHOULD_PROXY:64},e.exports;var e}),i.ensureModuleRegistered("SignalsFBEventsPlugin",function(){return(e={exports:{}}).exports,e.exports=function(e){return this.plugin=e,this.__fbEventsPlugin=1,this},e.exports;var e}),i.ensureModuleRegistered("SignalsFBEventsProxyState",function(){return(t={exports:{}}).exports,e=!1,t.exports={getShouldProxy:function(){return e},setShouldProxy:function(t){e=t}},t.exports;var e,t}),i.ensureModuleRegistered("SignalsFBEvents.plugins.opttracking",function(){return function(e,t,n,r){var o={exports:{}};return o.exports,function(){var t=i.getFbeventsModules("SignalsFBEventsOptTrackingOptions"),n=i.getFbeventsModules("SignalsFBEventsPlugin"),r=i.getFbeventsModules("SignalsFBEventsProxyState"),s=!1;function a(e,t){return e?t:0}var u=new n(function(n,o){if(!s){var i={};n.on("pii_invalidated",function(e){null!=e&&(i["string"==typeof e?e:e.id]=!0)}),n.on("getCustomParameters",function(s){if(null==s)return{};var u=o.optIns;return{o:a(u.isOptedOut(s.id,"AutomaticSetup"),t.AUTO_CONFIG_OPT_OUT)|a(u.isOptedIn(s.id,"AutomaticSetup"),t.AUTO_CONFIG)|a(!0!==n.disableConfigLoading,t.CONFIG_LOADING)|a(function(){try{Object.defineProperty({},"test",{})}catch(e){return!1}return!0}(),t.SUPPORTS_DEFINE_PROPERTY)|a(!(!e.navigator||!e.navigator.sendBeacon),t.SUPPORTS_SEND_BEACON)|a(null!=s&&i[s.id],t.HAS_INVALIDATED_PII)|a(r.getShouldProxy(),t.SHOULD_PROXY)}}),s=!0}});u.OPTIONS=t,o.exports=u}(),o.exports}(e)}),s.exports=i.getFbeventsModules("SignalsFBEvents.plugins.opttracking"),i.registerPlugin&&i.registerPlugin("fbevents.plugins.opttracking",s.exports),i.ensureModuleRegistered("fbevents.plugins.opttracking",function(){return s.exports}))}(window,document,location,history),function(e,t,n,r){var o={exports:{}};o.exports;!function(){var i=e.fbq;if(i.execStart=e.performance&&e.performance.now&&e.performance.now(),s=e.postMessage||function(){},i||(s({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*"),"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page"),0)){var s,a="function"==typeof Symbol&&"symbol"===_typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":void 0===e?"undefined":_typeof(e)},u=function(){return function(e,t){if(Array.isArray(e))return e;if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();i.__fbeventsModules||(i.__fbeventsModules={},i.__fbeventsResolvedModules={},i.getFbeventsModules=function(e){return i.__fbeventsResolvedModules[e]||(i.__fbeventsResolvedModules[e]=i.__fbeventsModules[e]()),i.__fbeventsResolvedModules[e]},i.fbIsModuleLoaded=function(e){return!!i.__fbeventsModules[e]},i.ensureModuleRegistered=function(e,t){i.fbIsModuleLoaded(e)||(i.__fbeventsModules[e]=t)}),i.ensureModuleRegistered("SignalsEventValidation",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("SignalsFBEventsLogging"),t=(e.logError,e.logUserError),n=/^[+-]?\d+(\.\d+)?$/,r="number",s="currency_code",a={AED:1,ARS:1,AUD:1,BOB:1,BRL:1,CAD:1,CHF:1,CLP:1,CNY:1,COP:1,CRC:1,CZK:1,DKK:1,EUR:1,GBP:1,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,ISK:1,JPY:1,KRW:1,MOP:1,MXN:1,MYR:1,NIO:1,NOK:1,NZD:1,PEN:1,PHP:1,PLN:1,PYG:1,QAR:1,RON:1,RUB:1,SAR:1,SEK:1,SGD:1,THB:1,TRY:1,TWD:1,USD:1,UYU:1,VEF:1,VND:1,ZAR:1},u={PageView:{},ViewContent:{},Search:{},AddToCart:{},AddToWishlist:{},InitiateCheckout:{},PixelInitialized:{},AddPaymentInfo:{},Purchase:{validationSchema:{value:{type:r,isRequired:!0},currency:{type:s,isRequired:!0}}},Lead:{},CompleteRegistration:{},CustomEvent:{validationSchema:{event:{isRequired:!0}}}},l={agent:!0},p=Object.prototype.hasOwnProperty;function c(e,t,n){this.error=null,this.warnings=[],this.eventName=e,this.params=t||{},this.metadata=n}c.prototype.validateMetadata=function(){if(this.metadata){var e=this.metadata.toLowerCase();if(!l[e])return this._error({type:"UNSUPPORTED_METADATA_ARGUMENT",metadata:e})}return this},c.prototype.validateEvent=function(){var e=this.eventName;if(!e)return this;var t=u[e];if(!t)return this.warnings.push({type:"NONSTANDARD_EVENT",eventName:e}),this;var n=t.validationSchema;for(var r in n)if(p.call(n,r)){var o=n[r];if(o){if(o.isRequired&&!p.call(this.params,r))return this._error({type:"REQUIRED_PARAM_MISSING",param:r,eventName:e});if(o.type&&"string"==typeof o.type&&!this._validateParam(r,o.type))return this._error({type:"INVALID_PARAM",param:r,eventName:e})}}return this},c.prototype._validateParam=function(e,t){var o=this.params[e];switch(t){case r:var i=("string"==typeof o||"number"==typeof o)&&n.test(""+o);return i&&Number(o)<0&&this.warnings.push({type:"NEGATIVE_EVENT_PARAM",param:e,eventName:this.eventName?this.eventName:"null"}),i;case s:return"string"==typeof o&&!!a[o.toUpperCase()]}return!0},c.prototype._error=function(e){return this.error=e,this},o.exports={validateMetadata:function(e){return new c(null,null,e).validateMetadata()},validateEvent:function(e){return new c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).validateEvent()},validateEventAndLog:function(e,n){var r=new c(e,n).validateEvent();if(r.error&&t(r.error),r.warnings)for(var o=0;o<r.warnings.length;o++)t(r.warnings[o]);return r}}}(),o.exports}()}),i.ensureModuleRegistered("SignalsEvents",function(){return function(e,t,n,r){var o,s,a,u,p={exports:{}};p.exports;return o=i.getFbeventsModules("SignalsFBEventsLogging").logError,s=i.getFbeventsModules("SignalsFBEventsUtils").keys,a=0,u=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={},this.on=function(){return t._on.apply(t,arguments)},this.once=function(){return t._once.apply(t,arguments)},this.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t._trigger.apply(t,[e].concat(r))},this.unsubscribe=function(){return t._unsubscribe.apply(t,arguments)}}return l(e,[{key:"_on",value:function(e,t){var n=this,r=a++;return this._listeners[e]||(this._listeners[e]={}),this._listeners[e][r.toString()]=t,function(){n.unsubscribe(e,r.toString())}}},{key:"_once",value:function(e,t){var n=arguments,r=this.on(e,function(){return r(),t.apply(null,n)});return r}},{key:"_trigger",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this._listeners[e]?s(this._listeners[e]).map(function(n){try{return t._listeners[e][n]?t._listeners[e][n].apply(null,r):[]}catch(e){o(e)}return null}):[]}},{key:"_unsubscribe",value:function(e,t){var n=this._listeners[e];n&&n[t]&&(delete n[t],0===s(n).length&&delete this._listeners[e])}}]),e}()),p.exports=u,p.exports}()}),i.ensureModuleRegistered("SignalsFBEventsFBQ",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("SignalsEventValidation"),n=i.getFbeventsModules("SignalsFBEventsFireLock"),r=i.getFbeventsModules("SignalsFBEventsLogging"),s=i.getFbeventsModules("SignalsFBEventsOptIn"),a=i.getFbeventsModules("SignalsFBEventsPluginPath"),u=i.getFbeventsModules("SignalsFBEventsQE"),l=i.getFbeventsModules("SignalsFBEventsUtils"),c=i.getFbeventsModules("SignalsParamList"),f=i.getFbeventsModules("SignalsPixelEndpoint"),d=l.each,g=l.keys,v=l.map,h=l.some,y=r.logError,b=r.logUserError,E={AutomaticMatching:!0,Dwell:!0,FPCookie:!0,Interaction:!0,InferredEvents:!0,Microdata:!0,ProxyEndpoint:!0,Sessions:!0,TimeSpent:!0,IWL:!0},_={AutomaticSetup:["InferredEvents","Microdata"]},m={AutomaticMatching:["inferredevents","identity"],Dwell:["dwell"],FPCookie:["fpcookie"],InferredEvents:["inferredevents","identity"],Interaction:["interaction","timespent"],Microdata:["microdata","identity"],ProxyEndpoint:["proxy"],Sessions:["sessions"],TimeSpent:["timespent"],IWL:["iwl"]};function S(e){return!(!E[e]&&!_[e])}var P={VALID_FEATURES:E,optIn:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t||!S(t))throw new Error('Invalid Argument: "'+t+'" is not a valid opt-in feature');return S(t)&&(this.optIns.optIn(e,t,r),d([t].concat(p(_[t]||[])),function(e){m[e]&&d(m[e],function(e){return n.fbq.loadPlugin(e)})})),this},optOut:function(e,t){return this.optIns.optOut(e,t),this},trackSingle:function(t,n,r){return e.validateEventAndLog(n,r),this.trackSingleCustom(t,n,r)},trackSingleCustom:function(e,t,n){var r="string"==typeof e?e:e.id,o=this.getDefaultSendData(r,t);return o.customData=n,this.fire(o,!1),this},enqueue:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.queue.append(t),this},_validateSend:function(t,n){if(!t.eventName||!t.eventName.length)throw new Error("Event name not specified");if(!t.pixelId||!t.pixelId.length)throw new Error("PixelId not specified");if(t.set&&d(v(g(t.set),function(t){return e.validateMetadata(t)}),function(e){if(e.error)throw new Error(e.error);e.warnings.length&&d(e.warnings,b)}),n){var r=e.validateEvent(t.eventName,t.customData||{});if(r.error)throw new Error(r.error);r.warnings&&r.warnings.length&&d(r.warnings,b)}return this},fire:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._validateSend(e,t),e.userData&&g(e.userData).length>0&&!this.fbq.loadPlugin("identity"))return this.enqueue("fire",e),this;var n=new c(this.fbq.piiTranslator);try{n.append("ud",e.userData,!0)}catch(t){this.fbq.trigger("pii_invalidated",e.pixelId)}n.append("v",this.fbq.version),n.append("r",this.fbq._releaseSegment),e.set&&e.set.agent&&n.append("a",e.set.agent);var r=this.fbq.trigger("getCustomParameters",{id:e.pixelId});return d(r,function(e){return d(g(e),function(t){if(n.containsKey(t))throw new Error("Custom parameter "+t+" already specified.");n.append(t,e[t])})}),f.sendEvent(e.pixelId,e.eventName,e.customData,n),this},callMethod:function(e){var t=e[0],n=Array.prototype.slice.call(e,1);if("function"==typeof this[t])try{this[t].apply(this,n)}catch(e){y(e)}else y(new Error("Invalid FBQ method "+t))},getDefaultSendData:function(e,t){var n=this.getPixel(e),r={pixelId:e,eventName:t};return n&&(n.userData&&(r.userData=n.userData),n.agent?r.set={agent:n.agent}:this.fbq.agent&&(r.set={agent:this.fbq.agent})),r},getOptedInPixels:function(e){var t=this;return this.optIns.listPixelIds(e).map(function(e){return t.pixelsByID[e]})},ensurePixel:function(e){if(!Object.prototype.hasOwnProperty.call(this.pixelsByID,e))throw new Error('Pixel "'+e+'" not found')},getPixel:function(e){return this.ensurePixel(e),this.pixelsByID[e]},loadConfig:function(e){this.fbq.disableConfigLoading||Object.prototype.hasOwnProperty.call(this.configsLoaded,e)||(this.locks.lockConfig(e),this.fbq.pendingConfigs&&0!=h(this.fbq.pendingConfigs,function(t){return t===e})||function(e,n,r){var o=a.get(),i="https://connect.facebook.net";"string"==typeof o.baseURL&&null!==o.baseURL&&(i=o.baseURL);var s=i+"/signals/config/"+e+"?v="+n+"&r="+r,u=t.createElement("script");u.src=s,u.async=!0,o.scriptElement&&o.scriptElement.parentNode?o.scriptElement.parentNode.insertBefore(u,o.scriptElement):t.body&&t.body.firstChild&&t.body.insertBefore(u,t.body.firstChild)}(e,this.VERSION,this.RELEASE_SEGMENT))},setExperiments:function(e){this._defaultExperiments=new u(e)},getExperiments:function(){return this._defaultExperiments},configLoaded:function(e){this.configsLoaded[e]=!0,this.locks.releaseConfig(e),this.fbq.trigger("configLoaded",e)}};function I(e,t){var r=this;this.VERSION=e.version,this.RELEASE_SEGMENT=e._releaseSegment,this.pixelsByID=t,this.fbq=e,this.optIns=new s(_),this.configsLoaded={},this._defaultExperiments=new u([]),this.locks=n.global,d(e.pendingConfigs||[],function(e){return r.locks.lockConfig(e)})}I.prototype=P,o.exports=I}(),o.exports}(0,t)}),i.ensureModuleRegistered("SignalsFBEventsFireLock",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("SignalsFBEventsUtils"),t=e.each,n=e.keys;function r(){this._locks={},this._callbacks=[]}r.prototype={lock:function(e){this._locks[e]=!0},release:function(e){Object.prototype.hasOwnProperty.call(this._locks,e)&&(delete this._locks[e],0===n(this._locks).length&&t(this._callbacks,function(t){return t(e)}))},onUnlocked:function(e){this._callbacks.push(e)},isLocked:function(){return n(this._locks).length>0}},r.global=new r,r.global.lockPlugin=function(e){this.lock("plugin:"+e)},r.global.releasePlugin=function(e){this.release("plugin:"+e)},r.global.lockConfig=function(e){this.lock("config:"+e)},r.global.releaseConfig=function(e){this.release("config:"+e)},o.exports=r}(),o.exports}()}),i.ensureModuleRegistered("SignalsFBEventsLogging",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var t=i.getFbeventsModules("SignalsFBEventsUtils"),n=t.sendPOST,r=t.isInstanceOf,s=i.getFbeventsModules("SignalsParamList"),a=!1;var u=!0;var l="console",p=e[l]?e[l].warn.bind(e[l]):function(){},c=!1;function f(e){c||p("[Facebook Pixel] - "+e)}var d="Facebook Pixel Error",g=e.postMessage?e.postMessage.bind(e):function(){},v={};function h(t,o){try{var i=Math.random(),a=e.fbq&&e.fbq._releaseSegment?e.fbq._releaseSegment:"unknown";if(u&&i<.01||"canary"===a){var l=new s(null);l.append("p","pixel"),l.append("v",e.fbq&&e.fbq.version?e.fbq.version:"unknown"),l.append("e",t.toString()),r(t,Error)&&(l.append("f",t.fileName),l.append("s",t.stackTrace||t.stack)),l.append("ue",o?"1":"0"),l.append("rs",a),n(l,"https://connect.facebook.net/log/error")}}catch(e){}}function y(e){h(e,!1),a&&f(e.toString())}var b={logError:y,logUserError:function(e){var t=JSON.stringify(e);if(!Object.prototype.hasOwnProperty.call(v,t)){v[t]=!0;var n=function(e){switch(e.type){case"FBQ_NO_METHOD_NAME":return"You must provide an argument to fbq().";case"INVALID_PIXEL_ID":return"Invalid PixelID: "+e.pixelID+".";case"DUPLICATE_PIXEL_ID":return"Duplicate Pixel ID: "+e.pixelID+".";case"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID":return"Trying to set argument "+e.metadataValue+" for uninitialized Pixel ID "+e.pixelID+".";case"CONFLICTING_VERSIONS":return"Multiple pixels with conflicting versions were detected on this page.";case"MULTIPLE_PIXELS":return"Multiple pixels were detected on this page.";case"UNSUPPORTED_METADATA_ARGUMENT":return"Unsupported metadata argument: "+e.metadata+".";case"REQUIRED_PARAM_MISSING":return"Required parameter '"+e.param+"' is missing for event '"+e.eventName+"'.";case"INVALID_PARAM":return"Parameter '"+e.param+"' is invalid for event '"+e.eventName+"'.";case"NONSTANDARD_EVENT":return"You are sending a non-standard event '"+e.eventName+"'. The preferred way to send these events is using trackCustom. See 'https://www.facebookmarketingdevelopers.com/pixels/up#sec-custom' for more information.";case"NEGATIVE_EVENT_PARAM":return"Parameter '"+e.param+"' is negative for event '"+e.eventName+"'.";case"PII_INVALID_TYPE":return"An invalid "+e.key_type+" was specified for '"+e.key_val+"'. This data will not be sent with any events for this Pixel.";default:return y(new Error("INVALID_USER_ERROR - "+e.type+" - "+JSON.stringify(e))),"Invalid User Error."}}(e);f(n),g({action:"FB_LOG",logType:d,logMessage:n},"*"),h(new Error(n),!0)}},enableVerboseDebugLogging:function(){a=!0},disableAllLogging:function(){c=!0},disableSampling:function(){u=!1}};o.exports=b}(),o.exports}(e)}),i.ensureModuleRegistered("SignalsFBEventsOptIn",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("SignalsFBEventsUtils"),t=e.each,n=e.filter,r=e.keys,s=e.some;function a(e){this._opts={},this._subOpts=e||{},function(e){t(r(e),function(t){if(s(e[t],function(t){return Object.prototype.hasOwnProperty.call(e,t)}))throw new Error("Circular subOpts are not allowed. "+t+" depends on another subOpt")})}(this._subOpts)}a.prototype._getOpts=function(e){return[].concat(p(Object.prototype.hasOwnProperty.call(this._subOpts,e)?this._subOpts[e]:[]),[e])},a.prototype._setOpt=function(e,t,n){this._opts[t]||(this._opts[t]={}),this._opts[t][e]=n},a.prototype.optIn=function(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t(this._getOpts(n),function(t){1==o&&r.isOptedOut(e,n)||r._setOpt(e,t,!0)}),this},a.prototype.optOut=function(e,n){var r=this;return t(this._getOpts(n),function(t){return r._setOpt(e,t,!1)}),this},a.prototype.isOptedIn=function(e,t){return this._opts[t]&&!0===this._opts[t][e]},a.prototype.isOptedOut=function(e,t){return this._opts[t]&&!1===this._opts[t][e]},a.prototype.listPixelIds=function(e){var t=this;return this._opts[e]?n(r(this._opts[e]),function(n){return t._opts[e][n]}):[]},o.exports=a}(),o.exports}()}),i.ensureModuleRegistered("SignalsFBEventsPluginPath",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=/([/]en_US)?[/](fbevents|signals)([.]js|[/])/;var n=null;o.exports={get:function(){return n||(n=function(){for(var n=null,r=null,o=t.getElementsByTagName("script"),i=0;i<o.length&&!n;i++){var s=o[i].src.split(e);s.length>1&&(n=s[0],r=o[i])}return{baseURL:n,scriptElement:r}}()),n}}}(),o.exports}(0,t)}),i.ensureModuleRegistered("SignalsFBEventsProxyState",function(){return function(e,t,n,r){var o,i={exports:{}};i.exports;return o=!1,i.exports={getShouldProxy:function(){return o},setShouldProxy:function(e){o=e}},i.exports}()}),i.ensureModuleRegistered("SignalsFBEventsQE",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=function(){return Math.random()};function t(e){this._groups=e,this._result=null,this._hasRolled=!1}t.prototype={get:function(t){if(!this._hasRolled){var n=function(t){for(var n=e(),r=0;r<t.length;r++){var o=t[r],i=o.passRate,s=u(o.range,2),a=s[0],l=s[1];if(i<0||i>1)throw new Error("passRate should be between 0 and 1 in "+o.name);if(n>=a&&n<l){var p=e()<i;return{name:o.name,isInExperimentGroup:p,code:o.code+(p?"1":"0")}}}return null}(this._groups);null!=n&&(this._result=n),this._hasRolled=!0}return t?null!=this._result&&this._result.name===t?this._result:null:this._result}},o.exports=t}(),o.exports}()}),i.ensureModuleRegistered("SignalsFBEventsUtils",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){i.getFbeventsModules("SignalsParamList");var n=i.getFbeventsModules("SignalsFBEventsProxyState"),r=Object.prototype.toString,s=!("addEventListener"in t);var u=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function l(e,t,n){t=s?"on"+t:t;var r=s?e.attachEvent:e.addEventListener,o=s?e.detachEvent:e.removeEventListener;r&&r.call(e,t,function r(){o&&o.call(e,t,r,!1),n()},!1)}var p=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=f.length;function g(e){if(Object.keys)return Object.keys(e);if("object"!==(void 0===e?"undefined":a(e))&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)p.call(e,n)&&t.push(n);if(c)for(var r=0;r<d;r++)p.call(e,f[r])&&t.push(f[r]);return t}function v(e,t){if(Array.prototype.map)return Array.prototype.map.call(e,t);var n=void 0,r=void 0;if(null==e)throw new TypeError(" array is null or not defined");var o=Object(e),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(n=new Array(i),r=0;r<i;){var s,a;r in o&&(s=o[r],a=t.call(null,s,r,o),n[r]=a),r++}return n}function h(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in t&&e.call(r,t[o],o,t))return!0;return!1}function y(e){this.items=null==e?[]:e}function b(e,t){return t&&n.getShouldProxy()?t:e}y.prototype.has=function(e){return h.call(this.items,function(t){return t===e})},y.prototype.add=function(e){this.items.push(e)};var E={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},isEmptyObject:function(e){return 0===g(e).length},isNumber:function(e){return"number"==typeof e||"string"==typeof e&&/^\d+$/.test(e)},isInteger:u,isInstanceOf:function(e,t){return"function"==typeof t&&e instanceof t},keys:g,listenOnce:l,map:v,sendGET:function e(t,r,o){var i=t.toQueryString(),s=b(r,o)+"?"+i;if(s.length<2048){var a=new Image;if(o){var u=n.getShouldProxy();a.onerror=function(){n.setShouldProxy(!0),u||e(t,r,o)}}return a.src=s,!0}return!1},sendPOST:function r(o,i,s){var a="fb"+Math.random().toString().replace(".",""),u=t.createElement("form");u.method="post",u.action=b(i,s),u.target=a,u.acceptCharset="utf-8",u.style.display="none";var p=e.attachEvent&&!e.addEventListener?'<iframe name="'+a+'">':"iframe",c=t.createElement(p);if(c.src="about:blank",c.id=a,c.name=a,u.appendChild(c),l(c,"load",function(){o.each(function(e,n){var r=t.createElement("input");r.name=e,r.value=n,u.appendChild(r)}),l(c,"load",function(){u.parentNode&&u.parentNode.removeChild(u)}),u.submit()}),s){var f=n.getShouldProxy();c.onerror=function(){n.setShouldProxy(!0),f||r(o,i,s)}}return t.body.appendChild(u),!0},sendBeacon:function t(r,o,i){if(e.navigator&&e.navigator.sendBeacon){var s=e.navigator.sendBeacon(b(o,i),r.toFormData());if(i&&!s){var a=n.getShouldProxy();n.setShouldProxy(!0),a||t(r,o,i)}return!0}return!1},FBSet:y,each:function(e,t){v.call(this,e,t)},some:function(e,t){return h.call(e,t)},filter:function(e,t){return function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in t){var s=t[i];e.call(o,s,i,t)&&r.push(s)}return r}.call(e,t)}};o.exports=E}(),o.exports}(e,t)}),i.ensureModuleRegistered("SignalsParamList",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e="deep";function t(e){this._params=[],this._piiTranslator=e}t.prototype.addRange=function(e){var t=this;e.each(function(e,n){return t.append(e,n)})},t.prototype.containsKey=function(e){for(var t=0;t<this._params.length;t++)if(this._params[t].name===e)return!0;return!1},t.prototype.get=function(e){for(var t=e,n=0;n<this._params.length;n++)if(this._params[n].name===t)return this._params[n].value;return null},t.prototype.getAllParams=function(){return this._params},t.prototype.append=function(t,n,r){return this._append(encodeURIComponent(t),n,e,r),this},t.prototype.appendHash=function(t,n){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this._append(r,t[r],e,n);return this},t.fromHash=function(e,n){return new t(n).appendHash(e)},t.prototype._append=function(t,n,r,o){!function(e){if(null===e||void 0===e)return!0;var t=void 0===e?"undefined":a(e);return"number"===t||"boolean"===t||"string"===t}(n)?r===e?this._appendObject(t,n,o):this._appendPrimitive(t,function(e){return"undefined"!=typeof JSON&&null!==JSON&&JSON.stringify?JSON.stringify(e):Object.prototype.toString.call(e)}(n),o):this._appendPrimitive(t,n,o)},t.prototype._translateValue=function(e,t,n){if("boolean"==typeof t)return t?"true":"false";if(!n)return""+t;if(!this._piiTranslator)throw new Error;return this._piiTranslator(e,""+t)},t.prototype._appendPrimitive=function(e,t,n){if(null!=t){var r=this._translateValue(e,t,n);null!=r&&this._params.push({name:e,value:r})}},t.prototype._appendObject=function(e,t,n){var r=null;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=e+"["+encodeURIComponent(o)+"]";try{this._append(i,t[o],"shallow",n)}catch(e){null==r&&(r=e)}}if(null!=r)throw r},t.prototype.each=function(e){for(var t=0;t<this._params.length;t++){var n=this._params[t];e(n.name,n.value)}},t.prototype.toQueryString=function(){var e=[];return this.each(function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")},t.prototype.toFormData=function(){var e=new FormData;return this.each(function(t,n){e.append(t,n)}),e},o.exports=t}(),o.exports}()}),i.ensureModuleRegistered("SignalsPixelEndpoint",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var r=i.getFbeventsModules("SignalsEvents"),s=i.getFbeventsModules("SignalsFBEventsUtils"),a=s.sendGET,u=s.sendPOST,l=s.sendBeacon,p=i.getFbeventsModules("SignalsParamList"),c=r.trigger,f={ENDPOINT:"https://www.facebook.com/tr/",PROXY_ENDPOINT:null},d=e.top!==e,g=!1;function v(r,o,i,s){return r.append("id",o),r.append("ev",i),r.append("dl",n.href),r.append("rl",t.referrer),r.append("if",d),r.append("ts",(new Date).valueOf()),r.append("cd",s),r.append("sw",e.screen.width),r.append("sh",e.screen.height),r}o.exports={CONFIG:f,sendEvent:function(e,t,n,r,o){var i=new p(o);v(i,e,t,n),r&&i.addRange(r);var s=[i,f.ENDPOINT,f.PROXY_ENDPOINT];if(g&&l.apply(void 0,s))c("fired","BEACON",i);else if(a.apply(void 0,s))c("fired","GET",i);else{if(!u.apply(void 0,s))throw new Error("No working send method found for this fire.");c("fired","POST",i)}},sendBeaconPII:function(t,n,r,o,i){if(e.navigator&&e.navigator.sendBeacon){var s=new p(i);v(s,t,n,r),o&&s.addRange(o),l(s,f.ENDPOINT)}},setUseBeacon:function(e){g=e}}}(),o.exports}(e,t,n)}),i.ensureModuleRegistered("signalsFBEventsInjectMethod",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("signalsFBEventsMakeSafe");o.exports=function(t,n,r){var o=t[n],i=e(r);t[n]=function(){var e=o.apply(this,arguments);return i.apply(this,arguments),e}}}(),o.exports}()}),i.ensureModuleRegistered("signalsFBEventsMakeSafe",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=i.getFbeventsModules("SignalsFBEventsLogging").logError;o.exports=function(t){return"function"!=typeof t?t:function(){try{return t.apply(this,arguments)}catch(t){e(t)}}}}(),o.exports}()}),i.ensureModuleRegistered("SignalsFBEvents",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var i=e.fbq;i.execStart=e.performance&&"function"==typeof e.performance.now?e.performance.now():null;var s=i.getFbeventsModules("SignalsParamList"),a=i.getFbeventsModules("SignalsPixelEndpoint"),u=i.getFbeventsModules("SignalsEvents"),l=i.getFbeventsModules("SignalsFBEventsUtils"),p=i.getFbeventsModules("SignalsFBEventsLogging"),c=i.getFbeventsModules("SignalsEventValidation"),f=i.getFbeventsModules("SignalsFBEventsFBQ"),d=i.getFbeventsModules("SignalsFBEventsPluginPath"),g=i.getFbeventsModules("SignalsFBEventsFireLock"),v=i.getFbeventsModules("signalsFBEventsInjectMethod"),h=i.getFbeventsModules("signalsFBEventsMakeSafe"),y=u.on,b=u.once,E=u.trigger,_=l.each,m=l.FBSet,S=l.isArray,P=l.isInteger,I=l.isEmptyObject,x=l.isNumber,w=l.keys,O=p.logError,M=p.logUserError,N=g.global;var F={},D=-1,A=Array.prototype.slice,R=Object.prototype.hasOwnProperty,T=n.href,k=!1,L=!1,C=[],B={},U=t.referrer,q={PageView:new m,PixelInitialized:new m},V=new f(i,B);function j(e){try{if(N.isLocked())return void i.queue.push(arguments);var t=A.call(arguments),n=1===t.length&&S(t[0]);if(n&&(t=t[0]),"string"!=typeof t[0]&&M({type:"FBQ_NO_METHOD_NAME"}),"report"===e.slice(0,6)){var r=e.slice(6);t="CustomEvent"===r?["trackCustom",r=(t[1]||{}).event||r].concat(t.slice(1)):["track",r].concat(t.slice(1))}switch(e=t.shift()){case"addPixelId":k=!0,X.apply(this,t);break;case"init":L=!0,X.apply(this,t);break;case"set":G.apply(this,t);break;case"track":if(x(t[0])){(function(e,t){z(null,e,t)}).apply(this,t);break}if(n){Q.apply(this,t);break}(function(e,t){t=t||{},c.validateEventAndLog(e,t),"CustomEvent"===e&&"string"==typeof t.event&&(e=t.event);Q.call(this,e,t)}).apply(this,t);break;case"trackCustom":Q.apply(this,t);break;case"send":K.apply(this,t);break;case"on":y.apply(null,t);break;case"loadPlugin":W(t[0]);break;default:V.callMethod(arguments)}}catch(e){O(e)}}function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e){case"endpoint":var o=n[0];if("string"!=typeof o)throw new Error("endpoint value must be a string");a.CONFIG.ENDPOINT=o;break;case"releaseSegment":var s=n[0];if("string"!=typeof s)throw new Error("releaseSegment value must be a string");i._releaseSegment=s;break;case"proxy":var u=n[0];if(a.CONFIG.PROXY_ENDPOINT)throw new Error("proxy has already been set");if("string"!=typeof u)throw new Error("endpoint value must be a string");a.CONFIG.PROXY_ENDPOINT=u;break;case"autoConfig":var l=n[0],p=n[1],f=!0===l||"true"===l?"optIn":"optOut";if("string"!=typeof p)throw new Error("Invalid pixelID supplied to set autoConfig.");V.callMethod([f,p,"AutomaticSetup"]);break;case"experiments":var d=n[0];V.setExperiments(d);break;default:var g=n[0],v=n[1];if("string"!=typeof e)throw new Error("The metadata setting provided in the 'set' call is invalid.");if("string"!=typeof g)throw new Error("The metadata value must be a string.");if("string"!=typeof v)throw new Error("Invalid pixelID supplied to set call.");!function(e,t,n){var r=c.validateMetadata(e);r.error&&O(r.error);if(r.warnings)for(var o=0;o<r.warnings.length;o++)M(r.warnings[o]);if(R.call(B,n)){for(var i=0,s=C.length;i<s;i++)if(C[i].id===n){C[i][e]=t;break}}else M({type:"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID",metadataValue:t,pixelID:n})}(e,g,v)}}i._initHandlers=[],i._initsDone={};var H=function(e){return P(e)&&e>=0&&e<=Number.MAX_SAFE_INTEGER};function X(e,t,n){if(D=-1===D?Date.now():D,"number"==typeof e)H(e)||M({type:"INVALID_PIXEL_ID",pixelID:e.toString()}),e=e.toString();else{if("string"!=typeof e)return void M({type:"INVALID_PIXEL_ID",pixelID:e.toString()});/^[1-9][0-9]{0,25}$/.test(e)||M({type:"INVALID_PIXEL_ID",pixelID:e})}if(R.call(B,e))t&&I(B[e].userData)?(B[e].userData=t,W("identity")):M({type:"DUPLICATE_PIXEL_ID",pixelID:e});else{var r={agent:n?n.agent:null,id:e,userData:t||{},eventCount:0};C.push(r),B[e]=r,null!=t&&W("identity"),Y(),V.loadConfig(e)}}function Y(){for(var e=0;e<i._initHandlers.length;e++){var t=i._initHandlers[e];i._initsDone[e]||(i._initsDone[e]={});for(var n=0;n<C.length;n++){var r=C[n];i._initsDone[e][r.id]||(i._initsDone[e][r.id]=!0,t(r))}}}function Q(e,t){for(var n=0,r=C.length;n<r;n++){var o=C[n];("PageView"===e&&this.allowDuplicatePageViews||!Object.prototype.hasOwnProperty.call(q,e)||!q[e].has(o.id))&&(z(o,e,t),Object.prototype.hasOwnProperty.call(q,e)&&q[e].add(o.id))}}function K(e,t){for(var n=0,r=C.length;n<r;n++)z(C[n],e,t)}function J(e){var t=new s(i.piiTranslator);try{t.append("ud",e&&e.userData||{},!0)}catch(t){E("pii_invalidated",e)}t.append("v",i.version),i._releaseSegment&&t.append("r",i._releaseSegment),t.append("a",e&&e.agent?e.agent:i.agent),e&&(t.append("ec",e.eventCount),e.eventCount++);var n=E("getCustomParameters",e);return _(n,function(e){return _(w(e),function(n){if(t.containsKey(n))throw new Error("Custom parameter "+n+" has already been specified.");t.append(n,e[n])})}),t.append("it",D),t}function z(e,t,n){a.sendEvent(e?e.id:null,t,n,J(e))}function Z(){for(;i.queue.length&&!N.isLocked();){var e=i.queue.shift();j.apply(i,e)}}function W(e){if(!1===/^[a-zA-Z]\w+$/.test(e))throw new Error("Invalid plugin name: "+e);var n=function(e){return"fbevents.plugins."+e}(e);if(F[n])return!0;if(function(e){return i.fbIsModuleLoaded(e)}(n))return $(n,function(e){return i.getFbeventsModules(e)}(n)),!0;var r=d.get();if(r.baseURL&&r.scriptElement){var o=r.baseURL+"/signals/plugins/"+e+".js?v="+i.version;if(!F[n]){N.lockPlugin(n);var s=t.createElement("script");s.src=o,s.async=!0,r.scriptElement&&r.scriptElement.parentNode&&r.scriptElement.parentNode.insertBefore(s,r.scriptElement)}}return!1}function $(e,t){Object.prototype.hasOwnProperty.call(F,e)||(R.call(t,"__fbEventsPlugin")&&1===t.__fbEventsPlugin&&(F[e]=t,F[e].plugin(i,V),E("pluginLoaded",e)),N.releasePlugin(e))}function ee(){if(!0!==i.disablePushState&&r.pushState&&r.replaceState){var t=h(function(){if(U=T,(T=n.href)!==U){var e=new function(e){for(var t in e)R.call(e,t)&&(this[t]=e[t]);return this}({allowDuplicatePageViews:!0});j.call(e,"trackCustom","PageView")}});v(r,"pushState",t),v(r,"replaceState",t),e.addEventListener("popstate",t,!1)}}function te(e){i._initHandlers.push(e),Y()}function ne(){return{pixelInitializationTime:D,pixels:C}}function re(e){e.instance=V,e.callMethod=j,e.loadPlugin=W,e.registerPlugin=$,e._initHandlers=[],e._initsDone={},e.on=y,e.once=b,e.send=K,e.trigger=E,e.getEventCustomParameters=J,e.addInitHandler=te,e.getState=ne,e.init=X,e.set=G}N.onUnlocked(function(){Z()}),i.pixelId&&(k=!0,X(i.pixelId)),(k&&L||e.fbq!==e._fbq)&&M({type:"CONFLICTING_VERSIONS"}),C.length>1&&M({type:"MULTIPLE_PIXELS"}),b("fired",function(){return ee()}),re(e.fbq),Z(),o.exports={addInitHandler:function(e){i._initHandlers.push(e),Y()},doExport:re,getState:ne,getEventCustomParameters:J,sendEvent:z,loadPlugin:W},E("execEnd"),E("initialized",i)}(),o.exports}(e,t,n,r)}),o.exports=i.getFbeventsModules("SignalsFBEvents"),i.registerPlugin&&i.registerPlugin("fbevents",o.exports),i.ensureModuleRegistered("fbevents",function(){return o.exports})}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}}()}(window,document,location,history),fbq.registerPlugin("global_config",{__fbEventsPlugin:1,plugin:function(e,t){e.loadPlugin("opttracking"),e.set("experiments",{0:{name:"beacon",range:[0,.02],code:"b",passRate:.5},1:{name:"logDataLayer",range:[.02,.12],code:"d",passRate:.5}}),t.configLoaded("global_config")}});