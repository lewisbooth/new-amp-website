"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};fbq.version="2.8.9",fbq._releaseSegment="stable",fbq.pendingConfigs=["global_config"],function(e,t,n,r){var o={exports:{}};o.exports;!function(){var t=e.fbq;t.execStart=e.performance&&e.performance.now&&e.performance.now(),function(){var n=e.postMessage||function(){};return!!t||(n({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*"),"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page"),!1)}()&&(t.__fbeventsModules||(t.__fbeventsModules={},t.__fbeventsResolvedModules={},t.getFbeventsModules=function(e){return t.__fbeventsResolvedModules[e]||(t.__fbeventsResolvedModules[e]=t.__fbeventsModules[e]()),t.__fbeventsResolvedModules[e]},t.fbIsModuleLoaded=function(e){return!!t.__fbeventsModules[e]},t.ensureModuleRegistered=function(e,n){t.fbIsModuleLoaded(e)||(t.__fbeventsModules[e]=n)}),t.ensureModuleRegistered("SignalsFBEventsOptTrackingOptions",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return o.exports={AUTO_CONFIG_OPT_OUT:1,AUTO_CONFIG:2,CONFIG_LOADING:4,SUPPORTS_DEFINE_PROPERTY:8,SUPPORTS_SEND_BEACON:16,HAS_INVALIDATED_PII:32,SHOULD_PROXY:64},o.exports}()}),t.ensureModuleRegistered("SignalsFBEventsPlugin",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){o.exports=function(e){return this.plugin=e,this.__fbEventsPlugin=1,this}}(),o.exports}()}),t.ensureModuleRegistered("SignalsFBEventsProxyState",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=!1;o.exports={getShouldProxy:function(){return e},setShouldProxy:function(t){e=t}}}(),o.exports}()}),t.ensureModuleRegistered("SignalsFBEvents.plugins.opttracking",function(){return function(e,n,r,o){var i={exports:{}};i.exports;return function(){function n(e,t){return e?t:0}var r=t.getFbeventsModules("SignalsFBEventsOptTrackingOptions"),o=t.getFbeventsModules("SignalsFBEventsPlugin"),s=t.getFbeventsModules("SignalsFBEventsProxyState"),a=!1,u=new o(function(t,o){if(!a){var i={};t.on("pii_invalidated",function(e){null!=e&&(i["string"==typeof e?e:e.id]=!0)}),t.on("getCustomParameters",function(a){if(null==a)return{};var u=o.optIns;return{o:n(u.isOptedOut(a.id,"AutomaticSetup"),r.AUTO_CONFIG_OPT_OUT)|n(u.isOptedIn(a.id,"AutomaticSetup"),r.AUTO_CONFIG)|n(!0!==t.disableConfigLoading,r.CONFIG_LOADING)|n(function(){try{Object.defineProperty({},"test",{})}catch(e){return!1}return!0}(),r.SUPPORTS_DEFINE_PROPERTY)|n(!(!e.navigator||!e.navigator.sendBeacon),r.SUPPORTS_SEND_BEACON)|n(null!=a&&i[a.id],r.HAS_INVALIDATED_PII)|n(s.getShouldProxy(),r.SHOULD_PROXY)}}),a=!0}});u.OPTIONS=r,i.exports=u}(),i.exports}(e)}),o.exports=t.getFbeventsModules("SignalsFBEvents.plugins.opttracking"),t.registerPlugin&&t.registerPlugin("fbevents.plugins.opttracking",o.exports),t.ensureModuleRegistered("fbevents.plugins.opttracking",function(){return o.exports}))}()}(window,document,location,history),function(e,t,n,r){var o={exports:{}};o.exports;!function(){function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=e.fbq;if(s.execStart=e.performance&&e.performance.now&&e.performance.now(),function(){var t=e.postMessage||function(){};return!!s||(t({action:"FB_LOG",logType:"Facebook Pixel Error",logMessage:"Pixel code is not installed correctly on this page"},"*"),"error"in console&&console.error("Facebook Pixel Error: Pixel code is not installed correctly on this page"),!1)}()){var a="function"==typeof Symbol&&"symbol"===_typeof("function"==typeof Symbol?Symbol.iterator:"@@iterator")?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==("function"==typeof Symbol?Symbol.prototype:"@@prototype")?"symbol":void 0===e?"undefined":_typeof(e)},u=function(){return function(e,t){if(Array.isArray(e))return e;if(("function"==typeof Symbol?Symbol.iterator:"@@iterator")in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();s.__fbeventsModules||(s.__fbeventsModules={},s.__fbeventsResolvedModules={},s.getFbeventsModules=function(e){return s.__fbeventsResolvedModules[e]||(s.__fbeventsResolvedModules[e]=s.__fbeventsModules[e]()),s.__fbeventsResolvedModules[e]},s.fbIsModuleLoaded=function(e){return!!s.__fbeventsModules[e]},s.ensureModuleRegistered=function(e,t){s.fbIsModuleLoaded(e)||(s.__fbeventsModules[e]=t)}),s.ensureModuleRegistered("SignalsEventValidation",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(e,t,n){this.error=null,this.warnings=[],this.eventName=e,this.params=t||{},this.metadata=n}var t=s.getFbeventsModules("SignalsFBEventsLogging"),n=(t.logError,t.logUserError),r=/^[+-]?\d+(\.\d+)?$/,i="number",a="currency_code",u={AED:1,ARS:1,AUD:1,BOB:1,BRL:1,CAD:1,CHF:1,CLP:1,CNY:1,COP:1,CRC:1,CZK:1,DKK:1,EUR:1,GBP:1,GTQ:1,HKD:1,HNL:1,HUF:1,IDR:1,ILS:1,INR:1,ISK:1,JPY:1,KRW:1,MOP:1,MXN:1,MYR:1,NIO:1,NOK:1,NZD:1,PEN:1,PHP:1,PLN:1,PYG:1,QAR:1,RON:1,RUB:1,SAR:1,SEK:1,SGD:1,THB:1,TRY:1,TWD:1,USD:1,UYU:1,VEF:1,VND:1,ZAR:1},l={PageView:{},ViewContent:{},Search:{},AddToCart:{},AddToWishlist:{},InitiateCheckout:{},PixelInitialized:{},AddPaymentInfo:{},Purchase:{validationSchema:{value:{type:i,isRequired:!0},currency:{type:a,isRequired:!0}}},Lead:{},CompleteRegistration:{},CustomEvent:{validationSchema:{event:{isRequired:!0}}}},p={agent:!0},c=Object.prototype.hasOwnProperty;e.prototype.validateMetadata=function(){if(this.metadata){var e=this.metadata.toLowerCase();if(!p[e])return this._error({type:"UNSUPPORTED_METADATA_ARGUMENT",metadata:e})}return this},e.prototype.validateEvent=function(){var e=this.eventName;if(!e)return this;var t=l[e];if(!t)return this.warnings.push({type:"NONSTANDARD_EVENT",eventName:e}),this;var n=t.validationSchema;for(var r in n)if(c.call(n,r)){var o=n[r];if(o){if(o.isRequired&&!c.call(this.params,r))return this._error({type:"REQUIRED_PARAM_MISSING",param:r,eventName:e});if(o.type&&"string"==typeof o.type&&!this._validateParam(r,o.type))return this._error({type:"INVALID_PARAM",param:r,eventName:e})}}return this},e.prototype._validateParam=function(e,t){var n=this.params[e];switch(t){case i:var o=("string"==typeof n||"number"==typeof n)&&r.test(""+n);return o&&Number(n)<0&&this.warnings.push({type:"NEGATIVE_EVENT_PARAM",param:e,eventName:this.eventName?this.eventName:"null"}),o;case a:return"string"==typeof n&&!!u[n.toUpperCase()]}return!0},e.prototype._error=function(e){return this.error=e,this},o.exports={validateMetadata:function(t){return new e(null,null,t).validateMetadata()},validateEvent:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).validateEvent()},validateEventAndLog:function(t,r){var o=new e(t,r).validateEvent();if(o.error&&n(o.error),o.warnings)for(var i=0;i<o.warnings.length;i++)n(o.warnings[i]);return o}}}(),o.exports}()}),s.ensureModuleRegistered("SignalsEvents",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=s.getFbeventsModules("SignalsFBEventsLogging").logError,t=s.getFbeventsModules("SignalsFBEventsUtils").keys,n=0,r=new(function(){function r(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._listeners={},this.on=function(){return e._on.apply(e,arguments)},this.once=function(){return e._once.apply(e,arguments)},this.trigger=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e._trigger.apply(e,[t].concat(r))},this.unsubscribe=function(){return e._unsubscribe.apply(e,arguments)}}return l(r,[{key:"_on",value:function(e,t){var r=this,o=n++;return this._listeners[e]||(this._listeners[e]={}),this._listeners[e][o.toString()]=t,function(){r.unsubscribe(e,o.toString())}}},{key:"_once",value:function(e,t){var n=arguments,r=this.on(e,function(){return r(),t.apply(null,n)});return r}},{key:"_trigger",value:function(n){for(var r=this,o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return this._listeners[n]?t(this._listeners[n]).map(function(t){try{return r._listeners[n][t]?r._listeners[n][t].apply(null,i):[]}catch(t){e(t)}return null}):[]}},{key:"_unsubscribe",value:function(e,n){var r=this._listeners[e];r&&r[n]&&(delete r[n],0===t(r).length&&delete this._listeners[e])}}]),r}());o.exports=r}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEventsFBQ",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(e){return!(!m[e]&&!S[e])}function n(e,t){var n=this;this.VERSION=e.version,this.RELEASE_SEGMENT=e._releaseSegment,this.pixelsByID=t,this.fbq=e,this.optIns=new l(S),this.configsLoaded={},this._defaultExperiments=new c([]),this.locks=a.global,v(e.pendingConfigs||[],function(e){return n.locks.lockConfig(e)})}var r=s.getFbeventsModules("SignalsEventValidation"),a=s.getFbeventsModules("SignalsFBEventsFireLock"),u=s.getFbeventsModules("SignalsFBEventsLogging"),l=s.getFbeventsModules("SignalsFBEventsOptIn"),p=s.getFbeventsModules("SignalsFBEventsPluginPath"),c=s.getFbeventsModules("SignalsFBEventsQE"),f=s.getFbeventsModules("SignalsFBEventsUtils"),d=s.getFbeventsModules("SignalsParamList"),g=s.getFbeventsModules("SignalsPixelEndpoint"),v=f.each,h=f.keys,y=f.map,b=f.some,E=u.logError,_=u.logUserError,m={AutomaticMatching:!0,Dwell:!0,FPCookie:!0,Interaction:!0,InferredEvents:!0,Microdata:!0,ProxyEndpoint:!0,Sessions:!0,TimeSpent:!0,IWL:!0},S={AutomaticSetup:["InferredEvents","Microdata"]},P={AutomaticMatching:["inferredevents","identity"],Dwell:["dwell"],FPCookie:["fpcookie"],InferredEvents:["inferredevents","identity"],Interaction:["interaction","timespent"],Microdata:["microdata","identity"],ProxyEndpoint:["proxy"],Sessions:["sessions"],TimeSpent:["timespent"],IWL:["iwl"]};n.prototype={VALID_FEATURES:m,optIn:function(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof n||!e(n))throw new Error('Invalid Argument: "'+n+'" is not a valid opt-in feature');return e(n)&&(this.optIns.optIn(t,n,o),v([n].concat(i(S[n]||[])),function(e){P[e]&&v(P[e],function(e){return r.fbq.loadPlugin(e)})})),this},optOut:function(e,t){return this.optIns.optOut(e,t),this},trackSingle:function(e,t,n){return r.validateEventAndLog(t,n),this.trackSingleCustom(e,t,n)},trackSingleCustom:function(e,t,n){var r="string"==typeof e?e:e.id,o=this.getDefaultSendData(r,t);return o.customData=n,this.fire(o,!1),this},enqueue:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.queue.append(t),this},_validateSend:function(e,t){if(!e.eventName||!e.eventName.length)throw new Error("Event name not specified");if(!e.pixelId||!e.pixelId.length)throw new Error("PixelId not specified");if(e.set&&v(y(h(e.set),function(e){return r.validateMetadata(e)}),function(e){if(e.error)throw new Error(e.error);e.warnings.length&&v(e.warnings,_)}),t){var n=r.validateEvent(e.eventName,e.customData||{});if(n.error)throw new Error(n.error);n.warnings&&n.warnings.length&&v(n.warnings,_)}return this},fire:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._validateSend(e,t),e.userData&&h(e.userData).length>0&&!this.fbq.loadPlugin("identity"))return this.enqueue("fire",e),this;var n=new d(this.fbq.piiTranslator);try{n.append("ud",e.userData,!0)}catch(t){this.fbq.trigger("pii_invalidated",e.pixelId)}n.append("v",this.fbq.version),n.append("r",this.fbq._releaseSegment),e.set&&e.set.agent&&n.append("a",e.set.agent);var r=this.fbq.trigger("getCustomParameters",{id:e.pixelId});return v(r,function(e){return v(h(e),function(t){if(n.containsKey(t))throw new Error("Custom parameter "+t+" already specified.");n.append(t,e[t])})}),g.sendEvent(e.pixelId,e.eventName,e.customData,n),this},callMethod:function(e){var t=e[0],n=Array.prototype.slice.call(e,1);if("function"==typeof this[t])try{this[t].apply(this,n)}catch(e){E(e)}else E(new Error("Invalid FBQ method "+t))},getDefaultSendData:function(e,t){var n=this.getPixel(e),r={pixelId:e,eventName:t};return n&&(n.userData&&(r.userData=n.userData),n.agent?r.set={agent:n.agent}:this.fbq.agent&&(r.set={agent:this.fbq.agent})),r},getOptedInPixels:function(e){var t=this;return this.optIns.listPixelIds(e).map(function(e){return t.pixelsByID[e]})},ensurePixel:function(e){if(!Object.prototype.hasOwnProperty.call(this.pixelsByID,e))throw new Error('Pixel "'+e+'" not found')},getPixel:function(e){return this.ensurePixel(e),this.pixelsByID[e]},loadConfig:function(e){this.fbq.disableConfigLoading||Object.prototype.hasOwnProperty.call(this.configsLoaded,e)||(this.locks.lockConfig(e),this.fbq.pendingConfigs&&0!=b(this.fbq.pendingConfigs,function(t){return t===e})||function(e,n,r){var o=p.get(),i="https://connect.facebook.net";"string"==typeof o.baseURL&&null!==o.baseURL&&(i=o.baseURL);var s=i+"/signals/config/"+e+"?v="+n+"&r="+r,a=t.createElement("script");a.src=s,a.async=!0,o.scriptElement&&o.scriptElement.parentNode?o.scriptElement.parentNode.insertBefore(a,o.scriptElement):t.body&&t.body.firstChild&&t.body.insertBefore(a,t.body.firstChild)}(e,this.VERSION,this.RELEASE_SEGMENT))},setExperiments:function(e){this._defaultExperiments=new c(e)},getExperiments:function(){return this._defaultExperiments},configLoaded:function(e){this.configsLoaded[e]=!0,this.locks.releaseConfig(e),this.fbq.trigger("configLoaded",e)}},o.exports=n}(),o.exports}(0,t)}),s.ensureModuleRegistered("SignalsFBEventsFireLock",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(){this._locks={},this._callbacks=[]}var t=s.getFbeventsModules("SignalsFBEventsUtils"),n=t.each,r=t.keys;e.prototype={lock:function(e){this._locks[e]=!0},release:function(e){Object.prototype.hasOwnProperty.call(this._locks,e)&&(delete this._locks[e],0===r(this._locks).length&&n(this._callbacks,function(t){return t(e)}))},onUnlocked:function(e){this._callbacks.push(e)},isLocked:function(){return r(this._locks).length>0}},(e.global=new e).lockPlugin=function(e){this.lock("plugin:"+e)},e.global.releasePlugin=function(e){this.release("plugin:"+e)},e.global.lockConfig=function(e){this.lock("config:"+e)},e.global.releaseConfig=function(e){this.release("config:"+e)},o.exports=e}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEventsLogging",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function t(e){g||d("[Facebook Pixel] - "+e)}function n(t,n){try{var r=Math.random(),o=e.fbq&&e.fbq._releaseSegment?e.fbq._releaseSegment:"unknown";if(c&&r<.01||"canary"===o){var i=new l(null);i.append("p","pixel"),i.append("v",e.fbq&&e.fbq.version?e.fbq.version:"unknown"),i.append("e",t.toString()),u(t,Error)&&(i.append("f",t.fileName),i.append("s",t.stackTrace||t.stack)),i.append("ue",n?"1":"0"),i.append("rs",o),a(i,"https://connect.facebook.net/log/error")}}catch(e){}}function r(e){n(e,!1),p&&t(e.toString())}var i=s.getFbeventsModules("SignalsFBEventsUtils"),a=i.sendPOST,u=i.isInstanceOf,l=s.getFbeventsModules("SignalsParamList"),p=!1,c=!0,f="console",d=e[f]?e[f].warn.bind(e[f]):function(){},g=!1,v="Facebook Pixel Error",h=e.postMessage?e.postMessage.bind(e):function(){},y={},b={logError:r,logUserError:function(e){var o=JSON.stringify(e);if(!Object.prototype.hasOwnProperty.call(y,o)){y[o]=!0;var i=function(e){switch(e.type){case"FBQ_NO_METHOD_NAME":return"You must provide an argument to fbq().";case"INVALID_PIXEL_ID":return"Invalid PixelID: "+e.pixelID+".";case"DUPLICATE_PIXEL_ID":return"Duplicate Pixel ID: "+e.pixelID+".";case"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID":return"Trying to set argument "+e.metadataValue+" for uninitialized Pixel ID "+e.pixelID+".";case"CONFLICTING_VERSIONS":return"Multiple pixels with conflicting versions were detected on this page.";case"MULTIPLE_PIXELS":return"Multiple pixels were detected on this page.";case"UNSUPPORTED_METADATA_ARGUMENT":return"Unsupported metadata argument: "+e.metadata+".";case"REQUIRED_PARAM_MISSING":return"Required parameter '"+e.param+"' is missing for event '"+e.eventName+"'.";case"INVALID_PARAM":return"Parameter '"+e.param+"' is invalid for event '"+e.eventName+"'.";case"NONSTANDARD_EVENT":return"You are sending a non-standard event '"+e.eventName+"'. The preferred way to send these events is using trackCustom. See 'https://www.facebookmarketingdevelopers.com/pixels/up#sec-custom' for more information.";case"NEGATIVE_EVENT_PARAM":return"Parameter '"+e.param+"' is negative for event '"+e.eventName+"'.";case"PII_INVALID_TYPE":return"An invalid "+e.key_type+" was specified for '"+e.key_val+"'. This data will not be sent with any events for this Pixel.";default:return r(new Error("INVALID_USER_ERROR - "+e.type+" - "+JSON.stringify(e))),"Invalid User Error."}}(e);t(i),h({action:"FB_LOG",logType:v,logMessage:i},"*"),n(new Error(i),!0)}},enableVerboseDebugLogging:function(){p=!0},disableAllLogging:function(){g=!0},disableSampling:function(){c=!1}};o.exports=b}(),o.exports}(e)}),s.ensureModuleRegistered("SignalsFBEventsOptIn",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(e){this._opts={},this._subOpts=e||{},function(e){n(a(e),function(t){if(u(e[t],function(t){return Object.prototype.hasOwnProperty.call(e,t)}))throw new Error("Circular subOpts are not allowed. "+t+" depends on another subOpt")})}(this._subOpts)}var t=s.getFbeventsModules("SignalsFBEventsUtils"),n=t.each,r=t.filter,a=t.keys,u=t.some;e.prototype._getOpts=function(e){return[].concat(i(Object.prototype.hasOwnProperty.call(this._subOpts,e)?this._subOpts[e]:[]),[e])},e.prototype._setOpt=function(e,t,n){this._opts[t]||(this._opts[t]={}),this._opts[t][e]=n},e.prototype.optIn=function(e,t){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(this._getOpts(t),function(n){1==o&&r.isOptedOut(e,t)||r._setOpt(e,n,!0)}),this},e.prototype.optOut=function(e,t){var r=this;return n(this._getOpts(t),function(t){return r._setOpt(e,t,!1)}),this},e.prototype.isOptedIn=function(e,t){return this._opts[t]&&!0===this._opts[t][e]},e.prototype.isOptedOut=function(e,t){return this._opts[t]&&!1===this._opts[t][e]},e.prototype.listPixelIds=function(e){var t=this;return this._opts[e]?r(a(this._opts[e]),function(n){return t._opts[e][n]}):[]},o.exports=e}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEventsPluginPath",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=/([/]en_US)?[/](fbevents|signals)([.]js|[/])/,n=null;o.exports={get:function(){return n||(n=function(){for(var n=null,r=null,o=t.getElementsByTagName("script"),i=0;i<o.length&&!n;i++){var s=o[i].src.split(e);s.length>1&&(n=s[0],r=o[i])}return{baseURL:n,scriptElement:r}}()),n}}}(),o.exports}(0,t)}),s.ensureModuleRegistered("SignalsFBEventsProxyState",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=!1;o.exports={getShouldProxy:function(){return e},setShouldProxy:function(t){e=t}}}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEventsQE",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(e){this._groups=e,this._result=null,this._hasRolled=!1}var t=function(){return Math.random()};e.prototype={get:function(e){if(!this._hasRolled){var n=function(e){for(var n=t(),r=0;r<e.length;r++){var o=e[r],i=o.passRate,s=u(o.range,2),a=s[0],l=s[1];if(i<0||i>1)throw new Error("passRate should be between 0 and 1 in "+o.name);if(n>=a&&n<l){var p=t()<i;return{name:o.name,isInExperimentGroup:p,code:o.code+(p?"1":"0")}}}return null}(this._groups);null!=n&&(this._result=n),this._hasRolled=!0}return e?null!=this._result&&this._result.name===e?this._result:null:this._result}},o.exports=e}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEventsUtils",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function n(e,t,n){t=h?"on"+t:t;var r=h?e.attachEvent:e.addEventListener,o=h?e.detachEvent:e.removeEventListener;r&&r.call(e,t,function r(){o&&o.call(e,t,r,!1),n()},!1)}function r(e){if(Object.keys)return Object.keys(e);if("object"!==(void 0===e?"undefined":a(e))&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)b.call(e,n)&&t.push(n);if(E)for(var r=0;r<m;r++)b.call(e,_[r])&&t.push(_[r]);return t}function i(e,t){if(Array.prototype.map)return Array.prototype.map.call(e,t);var n=void 0,r=void 0;if(null==e)throw new TypeError(" array is null or not defined");var o=Object(e),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(n=new Array(i),r=0;r<i;){var s,a;r in o&&(s=o[r],a=t.call(null,s,r,o),n[r]=a),r++}return n}function u(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in t&&e.call(r,t[o],o,t))return!0;return!1}function l(e){this.items=null==e?[]:e}function p(e,t){return t&&g.getShouldProxy()?t:e}function c(e,t,n){var r=e.toQueryString(),o=p(t,n)+"?"+r;if(o.length<2048){var i=new Image;if(n){var s=g.getShouldProxy();i.onerror=function(){g.setShouldProxy(!0),s||c(e,t,n)}}return i.src=o,!0}return!1}function f(r,o,i){var s="fb"+Math.random().toString().replace(".",""),a=t.createElement("form");a.method="post",a.action=p(o,i),a.target=s,a.acceptCharset="utf-8",a.style.display="none";var u=!(!e.attachEvent||e.addEventListener)?'<iframe name="'+s+'">':"iframe",l=t.createElement(u);if(l.src="about:blank",l.id=s,l.name=s,a.appendChild(l),n(l,"load",function(){r.each(function(e,n){var r=t.createElement("input");r.name=e,r.value=n,a.appendChild(r)}),n(l,"load",function(){a.parentNode&&a.parentNode.removeChild(a)}),a.submit()}),i){var c=g.getShouldProxy();l.onerror=function(){g.setShouldProxy(!0),c||f(r,o,i)}}return t.body.appendChild(a),!0}function d(t,n,r){if(e.navigator&&e.navigator.sendBeacon){var o=e.navigator.sendBeacon(p(n,r),t.toFormData());if(r&&!o){var i=g.getShouldProxy();g.setShouldProxy(!0),i||d(t,n,r)}return!0}return!1}s.getFbeventsModules("SignalsParamList");var g=s.getFbeventsModules("SignalsFBEventsProxyState"),v=Object.prototype.toString,h=!("addEventListener"in t),y=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},b=Object.prototype.hasOwnProperty,E=!{toString:null}.propertyIsEnumerable("toString"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=_.length;l.prototype.has=function(e){return u.call(this.items,function(t){return t===e})},l.prototype.add=function(e){this.items.push(e)};var S={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===v.call(e)},isEmptyObject:function(e){return 0===r(e).length},isNumber:function(e){return"number"==typeof e||"string"==typeof e&&/^\d+$/.test(e)},isInteger:y,isInstanceOf:function(e,t){return"function"==typeof t&&e instanceof t},keys:r,listenOnce:n,map:i,sendGET:c,sendPOST:f,sendBeacon:d,FBSet:l,each:function(e,t){i.call(this,e,t)},some:function(e,t){return u.call(e,t)},filter:function(e,t){return function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in t){var s=t[i];e.call(o,s,i,t)&&r.push(s)}return r}.call(e,t)}};o.exports=S}(),o.exports}(e,t)}),s.ensureModuleRegistered("SignalsParamList",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function e(e){this._params=[],this._piiTranslator=e}var t="deep";e.prototype.addRange=function(e){var t=this;e.each(function(e,n){return t.append(e,n)})},e.prototype.containsKey=function(e){for(var t=0;t<this._params.length;t++)if(this._params[t].name===e)return!0;return!1},e.prototype.get=function(e){for(var t=e,n=0;n<this._params.length;n++)if(this._params[n].name===t)return this._params[n].value;return null},e.prototype.getAllParams=function(){return this._params},e.prototype.append=function(e,n,r){return this._append(encodeURIComponent(e),n,t,r),this},e.prototype.appendHash=function(e,n){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this._append(r,e[r],t,n);return this},e.fromHash=function(t,n){return new e(n).appendHash(t)},e.prototype._append=function(e,n,r,o){!function(e){if(null===e||void 0===e)return!0;var t=void 0===e?"undefined":a(e);return"number"===t||"boolean"===t||"string"===t}(n)?r===t?this._appendObject(e,n,o):this._appendPrimitive(e,function(e){return"undefined"!=typeof JSON&&null!==JSON&&JSON.stringify?JSON.stringify(e):Object.prototype.toString.call(e)}(n),o):this._appendPrimitive(e,n,o)},e.prototype._translateValue=function(e,t,n){if("boolean"==typeof t)return t?"true":"false";if(!n)return""+t;if(!this._piiTranslator)throw new Error;return this._piiTranslator(e,""+t)},e.prototype._appendPrimitive=function(e,t,n){if(null!=t){var r=this._translateValue(e,t,n);null!=r&&this._params.push({name:e,value:r})}},e.prototype._appendObject=function(e,t,n){var r=null;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=e+"["+encodeURIComponent(o)+"]";try{this._append(i,t[o],"shallow",n)}catch(e){null==r&&(r=e)}}if(null!=r)throw r},e.prototype.each=function(e){for(var t=0;t<this._params.length;t++){var n=this._params[t];e(n.name,n.value)}},e.prototype.toQueryString=function(){var e=[];return this.each(function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")},e.prototype.toFormData=function(){var e=new FormData;return this.each(function(t,n){e.append(t,n)}),e},o.exports=e}(),o.exports}()}),s.ensureModuleRegistered("SignalsPixelEndpoint",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function r(r,o,i,s){return r.append("id",o),r.append("ev",i),r.append("dl",n.href),r.append("rl",t.referrer),r.append("if",g),r.append("ts",(new Date).valueOf()),r.append("cd",s),r.append("sw",e.screen.width),r.append("sh",e.screen.height),r}var i=s.getFbeventsModules("SignalsEvents"),a=s.getFbeventsModules("SignalsFBEventsUtils"),u=a.sendGET,l=a.sendPOST,p=a.sendBeacon,c=s.getFbeventsModules("SignalsParamList"),f=i.trigger,d={ENDPOINT:"https://www.facebook.com/tr/",PROXY_ENDPOINT:null},g=e.top!==e,v=!1;o.exports={CONFIG:d,sendEvent:function(e,t,n,o,i){var s=new c(i);r(s,e,t,n),o&&s.addRange(o);var a=[s,d.ENDPOINT,d.PROXY_ENDPOINT];if(v&&p.apply(void 0,a))f("fired","BEACON",s);else if(u.apply(void 0,a))f("fired","GET",s);else{if(!l.apply(void 0,a))throw new Error("No working send method found for this fire.");f("fired","POST",s)}},sendBeaconPII:function(t,n,o,i,s){if(e.navigator&&e.navigator.sendBeacon){var a=new c(s);r(a,t,n,o),i&&a.addRange(i),p(a,d.ENDPOINT)}},setUseBeacon:function(e){v=e}}}(),o.exports}(e,t,n)}),s.ensureModuleRegistered("signalsFBEventsInjectMethod",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=s.getFbeventsModules("signalsFBEventsMakeSafe");o.exports=function(t,n,r){var o=t[n],i=e(r);t[n]=function(){var e=o.apply(this,arguments);return i.apply(this,arguments),e}}}(),o.exports}()}),s.ensureModuleRegistered("signalsFBEventsMakeSafe",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){var e=s.getFbeventsModules("SignalsFBEventsLogging").logError;o.exports=function(t){return"function"!=typeof t?t:function(){try{return t.apply(this,arguments)}catch(t){e(t)}}}}(),o.exports}()}),s.ensureModuleRegistered("SignalsFBEvents",function(){return function(e,t,n,r){var o={exports:{}};o.exports;return function(){function i(e){try{if(H.isLocked())return void _.queue.push(arguments);var t=Q.call(arguments),n=1===t.length&&C(t[0]);if(n&&(t=t[0]),"string"!=typeof t[0]&&G({type:"FBQ_NO_METHOD_NAME"}),"report"===e.slice(0,6)){var r=e.slice(6);t="CustomEvent"===r?["trackCustom",r=(t[1]||{}).event||r].concat(t.slice(1)):["track",r].concat(t.slice(1))}switch(e=t.shift()){case"addPixelId":z=!0,a.apply(this,t);break;case"init":Z=!0,a.apply(this,t);break;case"set":s.apply(this,t);break;case"track":if(q(t[0])){(function(e,t){f(null,e,t)}).apply(this,t);break}if(n){l.apply(this,t);break}(function(e,t){t=t||{},w.validateEventAndLog(e,t),"CustomEvent"===e&&"string"==typeof t.event&&(e=t.event);l.call(this,e,t)}).apply(this,t);break;case"trackCustom":l.apply(this,t);break;case"send":p.apply(this,t);break;case"on":A.apply(null,t);break;case"loadPlugin":g(t[0]);break;default:ne.callMethod(arguments)}}catch(e){j(e)}}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e){case"endpoint":var o=n[0];if("string"!=typeof o)throw new Error("endpoint value must be a string");S.CONFIG.ENDPOINT=o;break;case"releaseSegment":var i=n[0];if("string"!=typeof i)throw new Error("releaseSegment value must be a string");_._releaseSegment=i;break;case"proxy":var s=n[0];if(S.CONFIG.PROXY_ENDPOINT)throw new Error("proxy has already been set");if("string"!=typeof s)throw new Error("endpoint value must be a string");S.CONFIG.PROXY_ENDPOINT=s;break;case"autoConfig":var a=n[0],u=n[1],l=!0===a||"true"===a?"optIn":"optOut";if("string"!=typeof u)throw new Error("Invalid pixelID supplied to set autoConfig.");ne.callMethod([l,u,"AutomaticSetup"]);break;case"experiments":var p=n[0];ne.setExperiments(p);break;default:var c=n[0],f=n[1];if("string"!=typeof e)throw new Error("The metadata setting provided in the 'set' call is invalid.");if("string"!=typeof c)throw new Error("The metadata value must be a string.");if("string"!=typeof f)throw new Error("Invalid pixelID supplied to set call.");!function(e,t,n){var r=w.validateMetadata(e);r.error&&j(r.error);if(r.warnings)for(var o=0;o<r.warnings.length;o++)G(r.warnings[o]);if(K.call($,n)){for(var i=0,s=W.length;i<s;i++)if(W[i].id===n){W[i][e]=t;break}}else G({type:"SET_METADATA_ON_UNINITIALIZED_PIXEL_ID",metadataValue:t,pixelID:n})}(e,c,f)}}function a(e,t,n){if(Y=-1===Y?Date.now():Y,"number"==typeof e)re(e)||G({type:"INVALID_PIXEL_ID",pixelID:e.toString()}),e=e.toString();else{if("string"!=typeof e)return void G({type:"INVALID_PIXEL_ID",pixelID:e.toString()});/^[1-9][0-9]{0,25}$/.test(e)||G({type:"INVALID_PIXEL_ID",pixelID:e})}if(K.call($,e))t&&U($[e].userData)?($[e].userData=t,g("identity")):G({type:"DUPLICATE_PIXEL_ID",pixelID:e});else{var r={agent:n?n.agent:null,id:e,userData:t||{},eventCount:0};W.push(r),$[e]=r,null!=t&&g("identity"),u(),ne.loadConfig(e)}}function u(){for(var e=0;e<_._initHandlers.length;e++){var t=_._initHandlers[e];_._initsDone[e]||(_._initsDone[e]={});for(var n=0;n<W.length;n++){var r=W[n];_._initsDone[e][r.id]||(_._initsDone[e][r.id]=!0,t(r))}}}function l(e,t){for(var n=0,r=W.length;n<r;n++){var o=W[n];("PageView"===e&&this.allowDuplicatePageViews||!Object.prototype.hasOwnProperty.call(te,e)||!te[e].has(o.id))&&(f(o,e,t),Object.prototype.hasOwnProperty.call(te,e)&&te[e].add(o.id))}}function p(e,t){for(var n=0,r=W.length;n<r;n++)f(W[n],e,t)}function c(e){var t=new m(_.piiTranslator);try{t.append("ud",e&&e.userData||{},!0)}catch(t){T("pii_invalidated",e)}t.append("v",_.version),_._releaseSegment&&t.append("r",_._releaseSegment),t.append("a",e&&e.agent?e.agent:_.agent),e&&(t.append("ec",e.eventCount),e.eventCount++);var n=T("getCustomParameters",e);return k(n,function(e){return k(V(e),function(n){if(t.containsKey(n))throw new Error("Custom parameter "+n+" has already been specified.");t.append(n,e[n])})}),t.append("it",Y),t}function f(e,t,n){S.sendEvent(e?e.id:null,t,n,c(e))}function d(){for(;_.queue.length&&!H.isLocked();){var e=_.queue.shift();i.apply(_,e)}}function g(e){if(!1===/^[a-zA-Z]\w+$/.test(e))throw new Error("Invalid plugin name: "+e);var n=function(e){return"fbevents.plugins."+e}(e);if(X[n])return!0;if(function(e){return _.fbIsModuleLoaded(e)}(n))return v(n,function(e){return _.getFbeventsModules(e)}(n)),!0;var r=M.get();if(r.baseURL&&r.scriptElement){var o=r.baseURL+"/signals/plugins/"+e+".js?v="+_.version;if(!X[n]){H.lockPlugin(n);var i=t.createElement("script");i.src=o,i.async=!0,r.scriptElement&&r.scriptElement.parentNode&&r.scriptElement.parentNode.insertBefore(i,r.scriptElement)}}return!1}function v(e,t){Object.prototype.hasOwnProperty.call(X,e)||(K.call(t,"__fbEventsPlugin")&&1===t.__fbEventsPlugin&&(X[e]=t,X[e].plugin(_,ne),T("pluginLoaded",e)),H.releasePlugin(e))}function h(){if(!0!==_.disablePushState&&r.pushState&&r.replaceState){var t=D(function(){if(ee=J,(J=n.href)!==ee){var e=new function(e){for(var t in e)K.call(e,t)&&(this[t]=e[t]);return this}({allowDuplicatePageViews:!0});i.call(e,"trackCustom","PageView")}});F(r,"pushState",t),F(r,"replaceState",t),e.addEventListener("popstate",t,!1)}}function y(e){_._initHandlers.push(e),u()}function b(){return{pixelInitializationTime:Y,pixels:W}}function E(e){e.instance=ne,e.callMethod=i,e.loadPlugin=g,e.registerPlugin=v,e._initHandlers=[],e._initsDone={},e.on=A,e.once=R,e.send=p,e.trigger=T,e.getEventCustomParameters=c,e.addInitHandler=y,e.getState=b,e.init=a,e.set=s}var _=e.fbq;_.execStart=e.performance&&"function"==typeof e.performance.now?e.performance.now():null;var m=_.getFbeventsModules("SignalsParamList"),S=_.getFbeventsModules("SignalsPixelEndpoint"),P=_.getFbeventsModules("SignalsEvents"),I=_.getFbeventsModules("SignalsFBEventsUtils"),x=_.getFbeventsModules("SignalsFBEventsLogging"),w=_.getFbeventsModules("SignalsEventValidation"),O=_.getFbeventsModules("SignalsFBEventsFBQ"),M=_.getFbeventsModules("SignalsFBEventsPluginPath"),N=_.getFbeventsModules("SignalsFBEventsFireLock"),F=_.getFbeventsModules("signalsFBEventsInjectMethod"),D=_.getFbeventsModules("signalsFBEventsMakeSafe"),A=P.on,R=P.once,T=P.trigger,k=I.each,L=I.FBSet,C=I.isArray,B=I.isInteger,U=I.isEmptyObject,q=I.isNumber,V=I.keys,j=x.logError,G=x.logUserError,H=N.global,X={},Y=-1,Q=Array.prototype.slice,K=Object.prototype.hasOwnProperty,J=n.href,z=!1,Z=!1,W=[],$={},ee=t.referrer,te={PageView:new L,PixelInitialized:new L},ne=new O(_,$);_._initHandlers=[],_._initsDone={};var re=function(e){return B(e)&&e>=0&&e<=Number.MAX_SAFE_INTEGER};H.onUnlocked(function(){d()}),_.pixelId&&(z=!0,a(_.pixelId)),(z&&Z||e.fbq!==e._fbq)&&G({type:"CONFLICTING_VERSIONS"}),W.length>1&&G({type:"MULTIPLE_PIXELS"}),R("fired",function(){return h()}),E(e.fbq),d(),o.exports={addInitHandler:function(e){_._initHandlers.push(e),u()},doExport:E,getState:b,getEventCustomParameters:c,sendEvent:f,loadPlugin:g},T("execEnd"),T("initialized",_)}(),o.exports}(e,t,n,r)}),o.exports=s.getFbeventsModules("SignalsFBEvents"),s.registerPlugin&&s.registerPlugin("fbevents",o.exports),s.ensureModuleRegistered("fbevents",function(){return o.exports})}}()}(window,document,location,history),fbq.registerPlugin("global_config",{__fbEventsPlugin:1,plugin:function(e,t){e.loadPlugin("opttracking"),e.set("experiments",{0:{name:"beacon",range:[0,.02],code:"b",passRate:.5},1:{name:"logDataLayer",range:[.02,.12],code:"d",passRate:.5}}),t.configLoaded("global_config")}});